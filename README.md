# AstraTech Senior Fullstack Developer

We need to create an app that allows a user to upload files of various file types into the system.

The app consists of 2 components: backend and frontend.

## Backend

Make sure to bootstrap the backend based on our boilerplate: https://gitlab.corp.algento.com/bill-payment/np-nestjs-boilerplate

The backend app handles communication with the database as well as file uploading.

We need to expose several API endpoints that will enable the following functionalities:

- Listing all the uploaded files
- Updating details about uploaded files (e.g. renaming files)
- Uploading and saving the files from the client-side
- Downloading files by their IDs

Once the file is uploaded, for privacy reasons we need to rename the file to an autogenerated file name.

We need to allow uploading only the following file types:

- PDF
- Images
- Microsoft Office documents

### Database

You can access the database using the following connection string:

`mysql://backend-practice:t00f8Haq2kACHSLS@astratech-sql-test-astratech-33c5.d.aivencloud.com:19271/defaultdb?ssl-mode=REQUIRED`

#### Schema

There is a table `tb_files_practice` already in the database with the following schema:

```
create table defaultdb.tb_files_practice
(
    id                 int auto_increment primary key,
    file_name          varchar(255)                         not null,
    original_file_name varchar(255)                         not null,
    file_path          varchar(255)                         not null,
    file_size          int                                  not null,
    file_type          varchar(255)                         not null,
    is_deleted         tinyint(1) default 0                 not null,
    download_count     int default 0                        not null,
    datetime_created   datetime   default CURRENT_TIMESTAMP not null,
    datetime_updated   datetime                             null on update CURRENT_TIMESTAMP
);
```

1. Write an API server app which interacts with the database and which does the following:

   - Saves the uploaded file details into the database
   - Only accepts file types mentioned above
   - Renames the file to an autogenerated file name
   - Saves the file to the same server as the API server

## Frontend

We need to create the frontend for the project and integrate it with the backend.

The design is available as [Figma](<https://www.figma.com/file/R9Wgr5CVJGzbU4xIYr2uDK/File-Uploader-Widget-(Technical-Interview)?type=design&node-id=0-1&mode=design>) or [Zeplin](https://zpl.io/q1mMqXl).
